Metadata-Version: 2.4
Name: legal-translator
Version: 0.1.0
Summary: Minimal viable prototype for batch legal document translation with Claude.
Author: Translator MVP Team
License-Expression: MIT
Requires-Python: <3.13,>=3.11
Description-Content-Type: text/markdown
Requires-Dist: anthropic>=0.35.0
Requires-Dist: python-docx>=1.1.0
Requires-Dist: pdfplumber>=0.11.4
Requires-Dist: PyPDF2>=3.0.1
Requires-Dist: fastapi>=0.115.0
Requires-Dist: uvicorn[standard]>=0.32.0
Requires-Dist: python-multipart>=0.0.9
Requires-Dist: rapidfuzz>=3.10.0
Requires-Dist: python-dotenv>=1.0.1
Requires-Dist: typer>=0.12.5
Requires-Dist: pydantic>=2.9.2
Requires-Dist: tenacity>=9.0.0
Requires-Dist: reportlab>=4.0.0
Requires-Dist: ddgs>=9.0.0
Requires-Dist: beautifulsoup4>=4.12.0
Requires-Dist: requests>=2.31.0
Requires-Dist: langdetect>=1.0.9
Requires-Dist: python-logging-loki-v2>=0.1.0
Provides-Extra: dev
Requires-Dist: pytest>=8.3.3; extra == "dev"
Requires-Dist: ruff>=0.7.4; extra == "dev"
Requires-Dist: mypy>=1.13.0; extra == "dev"

# Legal Document Translator

Minimal viable prototype for batch legal document translation with Claude AI.

## Architecture

- **Backend**: FastAPI REST API (`src/translator/api.py`)
- **Frontend**: React application (`frontend/`)
- **CLI**: Command-line interface (`src/translator/cli.py`)

## Setup

### Backend

1. Create virtual environment:
```bash
python -m venv .venv
source .venv/bin/activate  # On Windows: .venv\Scripts\activate
```

2. Install dependencies:
```bash
pip install -e .
```

3. Configure environment variables (create `.env` file):
```bash
ANTHROPIC_API_KEY=your_api_key_here
DATA_ROOT=./data
DEFAULT_SOURCE_LANG=fr
DEFAULT_TARGET_LANG=it
```

### Frontend

1. Install dependencies:
```bash
cd frontend
npm install
```

## Running

### Backend API

```bash
./run_api.sh
# Or: uvicorn src.translator.api:app --host 0.0.0.0 --port 8000 --reload
```

API will be available at http://localhost:8000

### Frontend

```bash
cd frontend
npm run dev
```

Frontend will be available at http://localhost:5173

### Public Access (ngrok)

**Quick Start (All Services + ngrok):**

```bash
./start_all_with_ngrok.sh
```

This will start backend, frontend, and ngrok tunnel together. The public URL will be displayed.

**Individual ngrok tunnels:**

To expose the backend API publicly:

```bash
./run_ngrok.sh
```

To expose the frontend publicly:

```bash
./run_ngrok_frontend.sh
```

**Note:** 
- CORS is already configured to allow ngrok domains automatically
- The frontend proxy will continue to work through ngrok, forwarding `/api` requests to the backend
- Ngrok dashboard is available at http://localhost:4040

### CLI

```bash
translate translate-doc input.pdf --target-lang it
translate translate-batch ./documents --output-dir ./output
```

## API Endpoints

- `GET /` - API info
- `GET /api/glossaries` - List available glossaries
- `POST /api/translate` - Start translation job (returns job_id)
- `GET /api/translate/{job_id}/status` - Get translation status
- `GET /api/translate/{job_id}/download` - Download translated PDF
- `GET /api/translate/{job_id}/report` - Get translation report

## Features

- Translate DOCX, PDF, and TXT files
- Glossary support for terminology consistency
- Translation memory for reuse
- Progress tracking
- Batch processing via CLI
